(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{24:function(e,t,n){e.exports=n(38)},25:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);n(25);var a=n(0),o=n.n(a),r=n(21),p=n.n(r),s=n(4),c=n(5),u=n(7),l=n(6),i=n(8),d=n(11),m=n(10);var f=function(){return o.a.createElement("div",{className:"landing-page"},o.a.createElement("p",null,"Looking for a pet to adopt? Get started by pressing the button below!"),o.a.createElement("p",null,"Sign up to get in line to adopt a cat or a dog."),o.a.createElement(d.b,{to:"/adopt"},"Click Me"))},h=n(17);n(35).config();var g="https://quiet-retreat-69531.herokuapp.com/",b={getCats:function(){return fetch("".concat(g,"/pets/cats"),{headers:{}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},getDogs:function(){return fetch("".concat(g,"/pets/dogs"),{headers:{}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},getPeople:function(){return fetch("".concat(g,"/people"),{headers:{}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},adoptCat:function(){return fetch("".concat(g,"/pets/cats"),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?1:e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){alert(e.message)}))},adoptDog:function(){return fetch("".concat(g,"/pets/dogs"),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?1:e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){alert(e.message)}))},signUp:function(e){return fetch("".concat(g,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:e}).then((function(e){return e.ok?1:e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){alert(e.message)}))}},E=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={currentPetIndex:0},n.goToNextPet=function(){var e=n.state.currentPetIndex;e<n.props.pets.length-1&&n.setState({currentPetIndex:++e})},n.goToPreviousPet=function(){var e=n.state.currentPetIndex;e>0&&n.setState({currentPetIndex:--e})},n.adoptAPet=function(){"cat"===n.props.petType&&n.props.people[0]?b.adoptCat().then((function(){return n.props.updateCats()})).then((function(){return n.props.updatePeople()})):"dog"===n.props.petType&&n.props.people[0]?b.adoptDog().then((function(){return n.props.updateDogs()})).then((function(){return n.props.updatePeople()})):n.props.people[0]||alert("Please fill in your name to adopt a pet.")},n}return Object(i.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=0===this.props.pets.length?[""]:this.props.pets,n=this.state.currentPetIndex,a=0!==this.state.currentPetIndex||t[0].adopter?o.a.createElement("button",{className:"adopt-button",disabled:!0},null==t[n].adopter?"waiting to be adopted":"I'm reserved by\n          ".concat(t[n].adopter)):o.a.createElement("button",{className:"adopt-button",disabeled:null==t[0].adopter?1:0,onClick:function(){return e.adoptAPet()}},"adopt me");return o.a.createElement("div",{className:"pet-description"},o.a.createElement("div",{className:"pet-nav-buttons"},o.a.createElement("button",{className:"prev-button",onClick:function(){return e.goToPreviousPet()},disabled:n>0?0:1},"prev"),o.a.createElement("button",{className:"next-button",onClick:function(){return e.goToNextPet()},disabled:n<this.props.pets.length-1?0:1},"next")),o.a.createElement("figure",{className:"pet-image-container"},o.a.createElement("img",{className:"pet-image",src:t[n].imageURL,alt:t[n].imageDescription})),o.a.createElement("div",{className:"pet-details"},o.a.createElement("ul",null,o.a.createElement("li",null,"Name: ",t[n].name),o.a.createElement("li",null,"Sex: ",t[n].sex),o.a.createElement("li",null,"Age: ",t[n].age),o.a.createElement("li",null,"Breed: ",t[n].breed),o.a.createElement("li",null,"Story: ",t[n].story)),a))}}]),t}(o.a.Component),j=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(c.a)(t,[{key:"renderAdoptedPets",value:function(){return[].concat(Object(h.a)(this.props.adoptedCats),Object(h.a)(this.props.adoptedDogs)).map((function(e,t){return o.a.createElement("li",{key:t,className:"adoptedPet"},o.a.createElement("img",{src:e.imageURL}))}))}},{key:"renderAdoptedCats",value:function(){return this.props.adoptedCats.map((function(e,t){return o.a.createElement("li",{key:t,className:"adoptedCat"},o.a.createElement("img",{src:e.imageURL}))}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"pets"},o.a.createElement("div",{className:"pet-descriptions"},o.a.createElement(E,{className:"cat-desc",pets:this.props.cats,petType:"cat",updateCats:function(){return e.props.updateCats()},updatePeople:function(){return e.props.updatePeople()},people:this.props.people}),o.a.createElement(E,{className:"dogs-desc",pets:this.props.dogs,petType:"dog",updateDogs:function(){return e.props.updateDogs()},updatePeople:function(){return e.props.updatePeople()},people:this.props.people})),o.a.createElement("ul",{className:"adoptedPets"},this.renderAdoptedPets()))}}]),t}(o.a.Component),P=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={name:""},n.handleTextInput=function(e){n.setState({name:e})},n.handleSubmit=function(e){e.preventDefault();var t=JSON.stringify(n.state);b.signUp(t).then((function(){return n.props.updatePeople()})),alert("You may now adopt the next available pet.")},n}return Object(i.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("fieldset",null,o.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},o.a.createElement("label",{htmlFor:"Name"},"Name"),o.a.createElement("input",{type:"text",id:"Name",value:this.state.name,onChange:function(t){return e.handleTextInput(t.target.value)}}),o.a.createElement("button",{type:"submit"},"Submit")))}}]),t}(o.a.Component),v=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"petContainer"},o.a.createElement(P,{updatePeople:function(){return e.props.updatePeople()}}),o.a.createElement(j,{cats:this.props.cats,dogs:this.props.dogs,people:this.props.people,updateCats:function(){return e.props.updateCats()},updateDogs:function(){return e.props.updateDogs()},updatePeople:function(){return e.props.updatePeople()},adoptedDogs:this.props.adoptedDogs,adoptedCats:this.props.adoptedCats}))}}]),t}(a.Component),y=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={cats:[],dogs:[],people:[],adoptedDogs:[],adoptedCats:[]},n.updatePeople=function(){b.getPeople().then((function(e){return n.setState({people:e})}))},n.updateCats=function(){b.getCats().then((function(e){return n.setState({cats:e})}))},n.updateDogs=function(){b.getDogs().then((function(e){return n.setState({dogs:e})}))},n.filterAdoptedDogs=function(){return n.state.dogs.filter((function(e){return null!==e.adopter}))},n.filterAdoptedCats=function(){return n.state.cats.filter((function(e){return null!==e.adopter}))},n}return Object(i.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.updateCats(),this.updateDogs(),this.updatePeople()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("header",null,o.a.createElement("h1",null,"Petful"),o.a.createElement("nav",null,o.a.createElement(d.b,{to:"/"},"Home"),o.a.createElement("br",null),o.a.createElement(d.b,{to:"/adopt"},"Adopt A Pet"))),o.a.createElement("main",null,o.a.createElement(m.c,null,o.a.createElement(m.a,{exact:!0,path:"/",component:f}),o.a.createElement(m.a,{exact:!0,path:"/adopt",render:function(t){return o.a.createElement(v,Object.assign({},t,{cats:e.state.cats,dogs:e.state.dogs,people:e.state.people,updatePeople:function(){return e.updatePeople()},updateCats:function(){return e.updateCats()},updateDogs:function(){return e.updateDogs()},adoptedDogs:e.filterAdoptedDogs(),adoptedCats:e.filterAdoptedCats()}))}}))))}}]),t}(o.a.Component);p.a.render(o.a.createElement(d.a,null,o.a.createElement(y,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.424b32a1.chunk.js.map